#!/usr/bin/env bash
set -e
set -u


if [ "$#" -lt 1 ]; then
    echo "Usage: $0 [narrow|wide]"
    exit 1
fi


case $1 in
    wide)
        VGAOUT=(--output DP-1 --dpi 144 --scale 2x2 --rate 60 --mode 1920x1080  --right-of HDMI-1 --noprimary)
        ;;
    narrow)
        VGAOUT=( --output DP-1 --scale-from 2560x2048 --dpi 96 --rate 60.02 --mode 1280x1024 --pos $(( 2880 - 2560 ))x-2048 --noprimary)
     ;;
esac


set -x
xrandr \
    --output eDP-1 --dpi 144 --scale-from 2880x1620 --rate 60 --mode 1920x1080 --pos 0x0 --primary \
    --output HDMI-1 --dpi 192 --scale 1x1 --rate 30 --mode 3840x2160 --pos 2880x-560 --noprimary \
    "${VGAOUT[@]}"
